<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Schedule</title>
</head>
<body>
    <h1>Schedule</h1>
    <!-- Display messages if any -->
    {% if messages %}
        <ul class="messages">
            {% for message in messages %}
                <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
            {% endfor %}
        </ul>
    {% endif %}

<!-- Selection for table display -->
    
<form action="/action_page.php">
    <label for="shift">Choose a Shift:</label>
    <select name="shift" id="shift">
      <option value="day" selected>Day</option>
      <option value="night">Night</option>
      <option value="delivery a">Delivery A</option>
      <option value="delivery b">Delivery B</option>
      <option value="vaca">Vacation</option>
    </select>
  </form>


<button type="button" onclick="myFunction()">Submit</button>

<p id="demo"></p>

<script>
    function myFunction() {
    var x = document.getElementById("shift").value;
    document.getElementById("demo").innerHTML = x;
    }
</script>


<!-- Table to display the schedule -->
    <table border="1">
        <thead>
            <tr>
                <th>Date</th>
                <th>Start Time</th>
                <th>End Time</th>
                <th>Department</th>
                <th>Employee</th>
                <th>Shift Type</th> <!-- New column header for shift type -->
            </tr>
        </thead>
        <tbody>
            <!-- Loop through each shift and display its details -->
            {% for shift in shifts %}
            <tr>
                <td>{{ shift.date }}</td>
                <td>{{ shift.start_time }}</td>
                <td>{{ shift.end_time }}</td>
                <td>{{ shift.department.name }}</td>
                <td>{{ shift.employee.first_name }} {{ shift.employee.last_name }}</td>
                <td>{{ shift.get_shift_type_display }}</td> <!-- Display shift type -->
            </tr>
            {% endfor %}
        </tbody>
    </table>

</body>
</html>